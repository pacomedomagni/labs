<div class="bg-white border-2 border-black rounded-lg p-8">
  <h2 class="text-4xl font-bold mb-6">Benchtesting Boards</h2>     
  
  <div class="flex gap-4 items-start mb-12">
    <mat-form-field appearance="outline" class="flex-1">
      <mat-label>Select an open board</mat-label>
      <mat-select id="board-select" name="board" [(ngModel)]="selectedBoard">
        @for (board of openBoards; track board) {
          <mat-option [value]="board">{{ board.name }}</mat-option>
        }
      </mat-select>
    </mat-form-field>
    <button mat-flat-button color="primary" class="!h-18 !px-8 !text-xl !mt-1">
      START BENCHTEST
    </button>
  </div>

  <div class="mt-8">
    <h2 id="benchtests-heading" class="text-4xl font-bold mb-6">Benchtests In Progress</h2>
    <div role="table" aria-labelledby="benchtests-heading" class="flex flex-col">
      <!-- Header -->
      <div >
        <div  class="flex py-4">
          <div id="header-board-name" role="columnheader" class="w-[40%] text-left text-2xl font-bold">Board Name</div>
          <div id="header-status" role="columnheader" class="flex-[2] text-left text-2xl font-bold pr-8">Status</div>
          <div id="header-count" role="columnheader" class="flex-[0.5] text-left text-2xl font-bold">Count</div>
          <div id="header-actions" role="columnheader" class="w-48"></div>
        </div>
      </div>
      
      <!-- Body -->
      <div role="rowgroup">
        @if (activeBoards.length === 0) {
          <div role="row" class="py-4 text-gray-500 text-xl">
            <div role="cell" aria-colspan="4">No boards in progress</div>
          </div>
        } @else {
          @for (board of activeBoards; track board.boardID; let i = $index) {
            <div 
              role="row" 
              [class.bg-blue-50]="selectedActiveBoard?.boardID === board.boardID" 
              class="flex py-6">
              <div 
                role="cell" 
                tabindex="0"
                [attr.aria-label]="'Board Name: ' + board.name"
                class="w-[40%] px-4 pt-[5px] text-2xl cursor-pointer"
                (click)="selectBoard(board)"
                (keydown.enter)="selectBoard(board)"
                (keydown.space)="selectBoard(board)">
                {{ board.name }}
              </div>
              <div 
                role="cell" 
                tabindex="0"
                [attr.aria-label]="'Status: ' + getStatusText(board.statusCode)"
                class="flex-[2] px-4 pr-8 pt-[5px] text-2xl cursor-pointer"
                (click)="selectBoard(board)"
                (keydown.enter)="selectBoard(board)"
                (keydown.space)="selectBoard(board)">
                {{ getStatusText(board.statusCode) }}
              </div>
              <div 
                role="cell" 
                tabindex="0"
                [attr.aria-label]="'Count: ' + (board.count || '0')"
                class="flex-[0.5] px-4 pt-[5px] text-2xl cursor-pointer"
                (click)="selectBoard(board)"
                (keydown.enter)="selectBoard(board)"
                (keydown.space)="selectBoard(board)">
                {{ board.count || '0' }}
              </div>
              <div role="cell" class="w-48 px-8 text-right">
                <button mat-flat-button color="primary" class="!px-12 !py-4 !text-xl" [attr.aria-label]="'Open ' + board.name">
                  OPEN
                </button>
              </div>
            </div>
          }
        }
      </div>
    </div>
  </div>
</div>
