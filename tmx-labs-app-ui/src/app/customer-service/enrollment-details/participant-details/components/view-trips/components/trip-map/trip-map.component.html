@if (((googleMapsService.isApiLoaded$ | async) && data.length > 0)) {
    <google-map
        [options]="mapOptions"
        (mapInitialized)="onMapInitialized()"
        width="100%"
        height="545px"
    >
        <map-advanced-marker
            [content]="startPin"
            [options]="{title: 'Trip Start'}"
            [position]="startLocation"
        ></map-advanced-marker>
        <map-advanced-marker
            [options]="{title: 'Trip End'}"
            [position]="endLocation"
        ></map-advanced-marker>
        @for (marker of markers; track $index) {
            <map-advanced-marker
                [position]="marker.position"
                [options]="marker.options"
                [content]="marker.content"
            >
            </map-advanced-marker>
        }
        <map-polyline [path]="routePath" [options]="polylineOptions"></map-polyline>
    </google-map>
} 
@else if(dataLoaded() && data.length === 0) {
    <cui-empty-state primaryText="No map data available"></cui-empty-state>
}
